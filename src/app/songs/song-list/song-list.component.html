<mat-spinner *ngIf="isLoading"></mat-spinner>
<button (click)="onShuffle()">shuffle</button>
<div class="search_bar_container">
  <div class="search_bar">
    <input
    type="text"
    placeholder="Rechercher"
    [(ngModel)]="term"
    [ngModelOptions]="{ standalone: true }"
    />
  </div>
  <div class="check_box">
    <div>
      <mat-checkbox
      (change)="onBoxChecked($event, 'author')"
      [checked]="isAuthor"
      [disabled]="false"
      >Interpr√®te
    </mat-checkbox>
  </div>
  <div>
    <mat-checkbox
    (change)="onBoxChecked($event, 'title')"
    [checked]="isTitle"
    [disabled]="false"
    >
    Titre
  </mat-checkbox>
</div>
</div>
</div>
<mat-accordion multi="true" *ngIf="songs.length && !isLoading">
  <mat-expansion-panel *ngFor="let song of (songs | filterTitle: term:isTitle)">
    <mat-expansion-panel-header>
      {{ song.title }} <br />
      {{ song.author }}
    </mat-expansion-panel-header>
    <a mat-button color="primary" [href]="song.lyrics" download>Paroles</a>
    <a mat-button color="primary" [href]="song.tab" download>Tablature</a>
    <mat-action-row>
      <a
      *ngIf="userIsAdmin"
      [routerLink]="['/edit_song', song.id]"
      mat-button
      color="primary"
      >Editer</a
      >
      <button
      *ngIf="userIsAdmin"
      mat-button
      color="warn"
      (click)="onDelete(song.id)"
      >
      Supprimer
    </button>
  </mat-action-row>
</mat-expansion-panel>
</mat-accordion>
<a *ngIf="userIsAdmin" mat-stroked-button color="primary" routerLink="/create_song"
  >Ajouter</a
>
<mat-paginator
*ngIf="songs.length > 0"
[length]="totalSongs"
[pageSize]="songsPerPage"
[pageSizeOptions]="pageSizeOptions"
(page)="onChangedPage($event)"
></mat-paginator>
<p class="mat-body-1 info-text" *ngIf="!songs.length && !isLoading">
  Pas de titres dans la setlist...
</p>
